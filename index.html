<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Spin the Bottle Game</title>
  <!-- Lexend font -->
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
  font-family: "Lexend", sans-serif;
  text-align: center;
  background-image: url("img1.jpg");
  margin: 0;
  padding: 0;
  color: #222;
}

h1 {
  margin: 20px 0;
  font-weight: 600;
  font-size: 2rem;
  color: #333;
  text-shadow: 1px 2px 4px rgba(0,0,0,0.15);
}

.inputs {
  margin: 20px auto;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 10px;
  max-width: 600px;
}

.inputs input {
  padding: 12px 14px;
  border: 2px solid #444;
  border-radius: 10px;
  font-size: 15px;
  outline: none;
  transition: 0.2s;
  flex: 1 1 140px;
  max-width: 200px;
  background: #fff;
}

.inputs input:focus {
  border-color: #f77f00;
  box-shadow: 0 0 6px rgba(247, 127, 0, 0.4);
}

button {
  padding: 12px 20px;
  font-size: 16px;
  font-weight: 600;
  background: linear-gradient(135deg, #4CAF50, #3a9a42);
  color: #fff;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  margin: 10px 6px;
  transition: 0.3s;
  box-shadow: 0 4px 10px rgba(0,0,0,0.15);
}

button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 14px rgba(0,0,0,0.2);
}

button.reset-btn {
  background: linear-gradient(135deg, #e63946, #c71c30);
}

.spinner-wrapper {
  position: relative;
  margin: 30px auto;
  width: 90vw;
  max-width: 360px;
  aspect-ratio: 1 / 1;
}

.spinner-container {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  border: 6px solid #333;
  overflow: hidden;
  box-shadow: 0 6px 20px rgba(0,0,0,0.25);
}

canvas {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  transition: transform 4s ease-out;
}

/* Arrow pointer */
.arrow {
  position: absolute;
  top: -22px;
  left: 50%;
  transform: translateX(-50%);
  width: 0; 
  height: 0; 
  border-left: 18px solid transparent;
  border-right: 18px solid transparent;
  border-bottom: 36px solid #d62828;
  filter: drop-shadow(0 3px 4px rgba(0,0,0,0.3));
}

.result {
  margin-top: 20px;
  font-size: 22px;
  font-weight: 700;
  color: #2b2d42;
  text-shadow: 0 1px 3px rgba(0,0,0,0.1);
  animation: popIn 0.6s ease;
}

/* Small animations */
@keyframes popIn {
  0% { transform: scale(0.8); opacity: 0; }
  100% { transform: scale(1); opacity: 1; }
}

/* Responsive adjustments */
@media (max-width: 500px) {
  h1 {
    font-size: 1.6rem;
  }
  .inputs input {
    flex: 1 1 100%;
    max-width: none;
  }
  button {
    width: 95%;
    font-size: 15px;
  }
  .result {
    font-size: 18px;
  }
}


  </style>
</head>
<body>
  <h1>ðŸŽ‰ Spin the Bottle ðŸŽ‰</h1>

  <div class="inputs" id="inputs"></div>
  <button onclick="setupSpinner()">Submit Names</button>
  <button class="reset-btn" id="resetBtn" style="display:none;">Reset</button>

  <div class="spinner-wrapper" style="display:none;">
    <div class="arrow"></div>
    <div class="spinner-container">
      <canvas id="spinner"></canvas>
    </div>
  </div>

  <button id="spinBtn" style="display:none;">Spin</button>
  <div class="result" id="result"></div>

  <script>
    const inputsDiv = document.getElementById("inputs");
    const spinnerCanvas = document.getElementById("spinner");
    const ctx = spinnerCanvas.getContext("2d");
    const spinBtn = document.getElementById("spinBtn");
    const resetBtn = document.getElementById("resetBtn");
    const resultDiv = document.getElementById("result");
    const spinnerWrapper = document.querySelector(".spinner-wrapper");
    let names = [];
    let angle = 0;

    spinnerCanvas.width = 300;
    spinnerCanvas.height = 300;

    // create 10 inputs for names
    for (let i = 0; i < 10; i++) {
      const input = document.createElement("input");
      input.type = "text";
      input.placeholder = "Name " + (i + 1);
      inputsDiv.appendChild(input);
    }

    function setupSpinner() {
      names = Array.from(inputsDiv.querySelectorAll("input"))
        .map(inp => inp.value.trim())
        .filter(v => v !== "");
      if (names.length < 2) {
        alert("Please enter at least 2 names!");
        return;
      }

      spinnerWrapper.style.display = "block";
      spinBtn.style.display = "inline-block";
      resetBtn.style.display = "inline-block";
      drawWheel();
    }

    function drawWheel() {
      ctx.clearRect(0, 0, spinnerCanvas.width, spinnerCanvas.height);
      let num = names.length;
      let arc = (2 * Math.PI) / num;

      for (let i = 0; i < num; i++) {
        ctx.beginPath();
        ctx.fillStyle = i % 2 === 0 ? "#FFB347" : "#77DD77";
        ctx.moveTo(150, 150);
        ctx.arc(150, 150, 150, i * arc, (i + 1) * arc);
        ctx.fill();
        ctx.save();
        ctx.translate(150, 150);
        ctx.rotate(i * arc + arc / 2);
        ctx.textAlign = "right";
        ctx.fillStyle = "#000";
        ctx.font = "16px Lexend";
        ctx.fillText(names[i], 130, 10);
        ctx.restore();
      }
    }

    spinBtn.addEventListener("click", () => {
      let randomSpin = Math.floor(Math.random() * 360) + 1800; 
      angle += randomSpin;
      spinnerCanvas.style.transition = "transform 4s ease-out";
      spinnerCanvas.style.transform = `rotate(${angle}deg)`;

    });

    resetBtn.addEventListener("click", () => {
      // reset all states
      names = [];
      angle = 0;
      spinnerCanvas.style.transition = "none";
      spinnerCanvas.style.transform = "rotate(0deg)";
      ctx.clearRect(0, 0, spinnerCanvas.width, spinnerCanvas.height);
      resultDiv.textContent = "";

      // clear inputs
      inputsDiv.querySelectorAll("input").forEach(inp => inp.value = "");

      // hide sections
      spinnerWrapper.style.display = "none";
      spinBtn.style.display = "none";
      resetBtn.style.display = "none";
    });
  </script>
</body>
</html>
